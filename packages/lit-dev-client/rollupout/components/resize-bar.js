import{r as e,e as t,s as i,$ as o}from"../lit.js";var r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,n=(e,t,i,o)=>{for(var n,h=o>1?void 0:o?s(t,i):t,a=e.length-1;a>=0;a--)(n=e[a])&&(h=(o?n(t,i,h):n(h))||h);return o&&h&&r(t,i,h),h};class h extends i{constructor(){super(...arguments),this.dimension="width",this.active=!1,this.resizing=!1}render(){return o`<div id="touchTarget" @pointerover="${this._onPointerOver}" @pointerleave="${this._onPointerLeave}" @pointerdown="${this._onPointerDown}"></div>`}_onPointerOver(){this._hoverTimer=setTimeout((()=>{this.active=!0,this._hoverTimer=void 0}),300)}_onPointerLeave(){this.active&&!this.resizing&&(this.active=!1),void 0!==this._hoverTimer&&(clearTimeout(this._hoverTimer),this._hoverTimer=void 0)}_onPointerDown({pointerId:e}){if(!this.target||!this.property)return;const t=this.getRootNode().getElementById(this.target);if(!t)return;this.active=!0,this.resizing=!0,this.setPointerCapture(e);const i="width"===this.dimension,{left:o,right:r,top:s,bottom:n}=t.getBoundingClientRect(),h=i?r-o:n-s;let a=0,p=0;const d=e=>{a=e.clientX,p=e.clientY,void 0===this._updateSizeRafId&&(this._updateSizeRafId=requestAnimationFrame((()=>{if(this._updateSizeRafId=void 0,!this.property)return;const e=Math.max(0,i?h+a-r:h-p+s);document.documentElement.style.setProperty(this.property,e+"px")})))};this.addEventListener("pointermove",d),this.addEventListener("pointerup",(()=>{this.releasePointerCapture(e),this.removeEventListener("pointermove",d),this.active=!1,this.resizing=!1}),{once:!0})}}h.styles=e`:host{z-index:1;position:relative}:host([dimension=width]){width:3px}:host([dimension=height]){height:3px}:host([dimension=width])>#touchTarget{cursor:col-resize;position:absolute;top:0;left:calc(var(--resize-bar-touch-size,6px)/ -2);width:var(--resize-bar-touch-size,6px);height:100%}:host([dimension=height])>#touchTarget{cursor:row-resize;position:absolute;top:calc(var(--resize-bar-touch-size,6px)/ -2);left:0;width:100%;height:var(--resize-bar-touch-size,6px)}`,n([t({reflect:!0,hasChanged:()=>!1})],h.prototype,"dimension",2),n([t({hasChanged:()=>!1})],h.prototype,"property",2),n([t({hasChanged:()=>!1})],h.prototype,"target",2),n([t({type:Boolean,reflect:!0})],h.prototype,"active",2),n([t({type:Boolean,reflect:!0})],h.prototype,"resizing",2),customElements.define("resize-bar",h);export{h as ResizeBar};
